{% extends 'base.html' %}

{% block headdata %}
<title>Edit Profile</title>
{% endblock %}

{% block main_content %}

    <a style="text-decoration: none" href="{% url 'profile' %}">
        <button class="btn back-button">
            < Back
        </button>
    </a>


    <h1>Edit Profile</h1>


    <form method="post" action="{% url 'profile_edit' %}" enctype="multipart/form-data">

        {% csrf_token %}

        <div class="flex flex-column"></div>

            <div class="flex flex-row">

                <div class="w-50 card m-2">
                    <h2>Profile</h2>

                    <table>
                        <tr>
                            <td><label class="rating-label">About Me</label></td>
                            <td>
                                <textarea name="aboutMe" type="textfield">{{ user_profile.aboutMe }}</textarea>
                            </td>
                        </tr>
                        <tr>
                            <td><label class="rating-label">Picture</label></td>
                            <td><input id="picture" type="file" name="picture" capture></td>
                        </tr>
                    </table>
                </div>


                <div class="card w-50 m-2">

                    <h2>Favourites</h2>

                    <table style="width: 100%">
                        <tr>
                            <td><label>Favourite Constructor</label></td>
                            <td>
                                <select name="favTeam">
                                    {% for constructor in constructors %}
                                        <option value="{{ constructor }}">
                                            {{ constructor }}
                                        </option>
                                    {% endfor %}
                                </select>
                            </td>
                        </tr>

                        <tr>
                            <td><label>Favourite Driver</label></td>
                            <td>
                                <select name="favDriver">
                                    {% for driver in drivers %}
                                        <option value="{{ driver }}">{{ driver }}</option>
                                    {% endfor %}
                                </select>
                            </td>
                        </tr>

                        <tr>
                            <td><label>Favourite Car</label></td>
                            <td>
                                <select name="favCar">
                                    {% for car in cars %}
                                        <option value="{{ car }}">{{ car }}</option>
                                    {% endfor %}
                                </select>
                            </td>
                        </tr>
                    </table>

                </div>

            </div>

            <div class="card flex m-2 justify-content-end flex-fill">
                <button class="btn primary-button" type="submit">
                    Submit
                </button>
            </div>

        </div>

    </form>



{% endblock %}